---
layout: post
title: Изменение CDO блюпринта другим блюпринтом
published: false
---
# Введение
Иногда возникает ситуация, когда база блюпринтов одного типа разрастается до десятков и сотен, например в игре большое количество оружия и амуниции, или заклинаний и зелий.
Для геймдизайнера это страшный ад, даже если все блюпринты хорошо рассортированы по папкам, искать нужный среди них, потом искать нужную переменную и вручную менять каждую из них крайне утомительное занятие.
К счастью мы можем немного облегчить его страдания.
Главный вопрос в том, как поменять значение переменной блюпринта не собственными руками, а например, другим блюпринтом.  
Именно это я опишу в этом посте.  

# CDO (Class Default Object)
CDO или Class Default Object - это шаблон конкретного класса, который движок будет использовать в качество прототипа для создания объектов этого класса, по сути это полная копия этого класса.  
CDO создается совершенно для любого блюпринта и С++ класса, помеченного макросом UCLASS(). В большей степени он необходим Reflection (Unreal Property System) системе движка.
Я не буду углубляться в эти системы, так как для данного поста достаточно информации выше. В конце статьи я приведу ссылки на полезные материалы по этим темам.  

Вернемся к главному вопросу: "Как поменять переменную блюпринта другим блюпринтом?", сейчас нам очень пригождаются знания о существовании CDO. 
Можно ли сказать, что когда мы меняем значение переменной блюпринта, мы меняем его CDO? Да, конечно, ведь по сути именно это мы и делаем. 
Внезапно наш вопрос меняется: "Как получить CDO блюпринта?". Специально для этого существует функция с незамысловатым названием: "Get Class Defaults".
Но к сожалению, изменить значение переменных мы не можем, только получить. Досадно...
Но зато мы можем сделать это в коде, при том крайне просто.

ТУТ СОЗДАЕМ БИБЛИОТЕКУ И В НЕЙ ФУНКЦИЮ GetCDO()

Теперь возвращаемся к движку. Дальнейшую логику буду делать в EditorUtilityWidget, о том что это и как это есть отдельная статья: https://pelogetan.github.io/blutilities-and-editorutilitywidget/
Добавляем кнопку и куда вводить текст.
Пишем логику на ивент клика кнопки.